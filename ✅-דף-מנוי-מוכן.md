# ✅ דף מנוי Premium מוכן

## מה עשינו

### 1. יצירת דף מנוי ייעודי (`/subscribe`)
✅ דף מלא עם עיצוב מקצועי
✅ בחירה בין תוכנית חודשית ושנתית
✅ תוכנית חודשית: ₪49/חודש
✅ תוכנית שנתית: ₪490/שנה (חיסכון של 17%)
✅ רשימת תכונות מפורטת
✅ תגי אמון (תשלום מאובטח, ביטול בכל עת, הפעלה מיידית, תמיכה 24/7)
✅ מדור שאלות נפוצות (FAQ)
✅ עיצוב רספונסיבי מלא

### 2. עדכון כפתורי "הפעל מנוי"
✅ **דשבורד** - כפתור "הפעל מנוי" בבאנר הגדול מנווט ל-`/subscribe`
✅ **דשבורד** - כפתור "הפעל מנוי" בכל כרטיס דף מנווט ל-`/subscribe?pageId=XXX`
✅ **דף צפייה** - כפתור "הפעל מנוי" בבאנר Premium מנווט ל-`/subscribe?pageId=XXX`

### 3. מה עובד עכשיו
- לחיצה על "הפעל מנוי" מכל מקום מעבירה לדף מנוי ייעודי
- הדף מקבל את ה-pageId בפרמטר URL
- אחרי "תשלום" (כרגע סימולציה) - מעביר חזרה לדף או לדשבורד
- עיצוב מקצועי עם אנימציות וגרדיאנטים

## קבצים שעודכנו

### 1. `new-app/src/routes/subscribe/+page.svelte`
דף מנוי חדש עם:
- בחירת תוכנית (חודשי/שנתי)
- פרטי מחיר ותכונות
- כפתור תשלום עם מצב loading
- תגי אמון
- FAQ

### 2. `new-app/src/routes/dashboard/+page.svelte`
עודכן:
```javascript
function purchaseSubscription(page) {
    const pageId = page ? (page.documentId || page.id) : '';
    goto(`/subscribe${pageId ? `?pageId=${pageId}` : ''}`);
}
```

### 3. `new-app/src/routes/view/[slug]/+page.svelte`
עודכן:
```javascript
onclick={() => {
    window.location.href = `/subscribe?pageId=${data.page.documentId || data.page.id}`;
}}
```

## איך לבדוק

### 1. בדשבורד
```
http://localhost:5173/dashboard?userId=YOUR_USER_ID
```
- לחץ על "הפעל מנוי כעת" בבאנר הגדול למעלה
- או לחץ על "הפעל מנוי" בכרטיס דף ספציפי

### 2. בדף צפייה
```
http://localhost:5173/view/YOUR_PAGE_SLUG
```
- אם אתה הבעלים של הדף ואין לך מנוי פעיל
- תראה באנר Premium מתחת ל-Hero
- לחץ על "הפעל מנוי כעת"

### 3. בדף המנוי
```
http://localhost:5173/subscribe?pageId=123
```
- בחר תוכנית (חודשי/שנתי)
- לחץ "הפעל מנוי כעת"
- תראה הודעת הצלחה ותועבר חזרה

## מה חסר (לעתיד)

### 1. אינטגרציה עם שער תשלומים אמיתי
כרגע יש סימולציה של תשלום עם `setTimeout`. צריך להוסיף:
- Stripe / PayPal / Bit
- API endpoint לטיפול בתשלום
- עדכון Strapi עם סטטוס מנוי

### 2. API Endpoint לעדכון מנוי
צריך ליצור:
```
/api/subscription/purchase
```
שיקבל:
- userId
- pageId
- plan (monthly/yearly)
- paymentToken

וישמור ב-Strapi:
- subscriptionStatus: 'active'
- subscriptionPlan: 'monthly' או 'yearly'
- subscriptionExpiry: תאריך תפוגה

### 3. אימות תשלום
- אימות שהתשלום עבר בהצלחה
- שליחת מייל אישור
- הפעלת המנוי מיידית

## סטטוס

✅ **דף מנוי נוצר**
✅ **כל הכפתורים מנווטים לדף המנוי**
✅ **עיצוב מקצועי ורספונסיבי**
⏳ **אינטגרציה עם שער תשלומים** (לעתיד)
⏳ **API לעדכון מנוי** (לעתיד)

## הערות

- הדף מוכן לשימוש עם עיצוב מלא
- כרגע התשלום הוא סימולציה (alert + redirect)
- כשתרצה להוסיף תשלום אמיתי, פשוט תחליף את הפונקציה `handleSubscribe()`
- כל הנתונים (pageId, plan) כבר מועברים נכון
