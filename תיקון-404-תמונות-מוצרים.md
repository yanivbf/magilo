# ğŸ”§ ×ª×™×§×•×Ÿ ×©×’×™××ª 404 ×‘×”×¢×œ××ª ×ª××•× ×•×ª ××•×¦×¨×™×

## ×”×‘×¢×™×”
```
POST http://localhost:5173/api/upload-product-image 404 (Not Found)
```

## ×œ××” ×–×” ×§×•×¨×”?
×”×©×¨×ª ×œ× ××•×¦× ××ª ×”×“×£ ×›×™ ×× ×—× ×• ××¢×‘×™×¨×™× `documentId` (×›××• `nkq48efvw77lw3321u8u9k5u`) ××‘×œ ×”-API ××¦×¤×” ×œ××–×”×” ××¡×¤×¨×™.

## ×”×¤×ª×¨×•×Ÿ ×©×›×‘×¨ ×¢×©×™× ×•
×¢×“×›× ×• ××ª `new-app/src/lib/server/strapi.js` ×œ×ª××•×š ×‘×©× ×™ ×¡×•×’×™ ×”××–×”×™×.

## ××” ×¦×¨×™×š ×œ×¢×©×•×ª ×¢×›×©×™×•?

### ××•×¤×¦×™×” 1: ×¨×¢× ×Ÿ ××ª ×”×©×¨×ª (××•××œ×¥)
```bash
# ×¢×¦×•×¨ ××ª ×”×©×¨×ª (Ctrl+C)
# ×”×¤×¢×œ ××—×“×©:
cd new-app
npm run dev
```

### ××•×¤×¦×™×” 2: ×‘×“×•×§ ××ª ×”×œ×•×’×™×
×¤×ª×— ××ª ×”×˜×¨××™× ×œ ×©×œ SvelteKit ×•×—×¤×© ×©×’×™××•×ª ××“×•××•×ª.

### ××•×¤×¦×™×” 3: ×‘×“×•×§ ×™×“× ×™×ª
1. ×¤×ª×— ××ª ×”×“×¤×“×¤×Ÿ
2. ×œ×š ×œ-http://localhost:5173/view/[slug]
3. ×¤×ª×— Console (F12)
4. × ×¡×” ×œ×”×¢×œ×•×ª ×ª××•× ×ª ××•×¦×¨
5. ×‘×“×•×§ ××” ×›×ª×•×‘ ×‘×˜×¨××™× ×œ ×©×œ SvelteKit

## ××” ×××•×¨ ×œ×§×¨×•×ª?
×›×©××¢×œ×™× ×ª××•× ×ª ××•×¦×¨, ×××•×¨ ×œ×¨××•×ª ×‘×˜×¨××™× ×œ:
```
ğŸ“¸ Upload request received: { hasImage: true, productId: '126', pageId: 'nkq48efvw77lw3321u8u9k5u' }
ğŸ“¸ Uploading product image: { productId: '126', pageId: 'nkq48efvw77lw3321u8u9k5u' }
âœ… Image uploaded to Strapi: http://localhost:1337/uploads/...
ğŸ“„ Fetching page: nkq48efvw77lw3321u8u9k5u
```

×× ×¨×•××™×:
```
ğŸ” Direct ID failed, trying documentId search: nkq48efvw77lw3321u8u9k5u
```

×–×” ××•××¨ ×©×”×ª×™×§×•×Ÿ ×¢×•×‘×“!

## ×× ×¢×“×™×™×Ÿ ×œ× ×¢×•×‘×“

### ×‘×“×™×§×” 1: ×•×•×“× ×©×”×§×‘×¦×™× ×¢×•×“×›× ×•
```bash
cd new-app/src/lib/server
cat strapi.js | grep "getPageById" -A 15
```

×¦×¨×™×š ×œ×¨××•×ª:
```javascript
export async function getPageById(id) {
	try {
		// Try direct ID first
		const response = await strapi.get(`/pages/${id}`, {
			populate: '*'
		});
		return response.data;
	} catch (error) {
		// If failed, try searching by documentId
		console.log('ğŸ” Direct ID failed, trying documentId search:', id);
		const response = await strapi.get('/pages', {
			'filters[documentId][$eq]': id,
			populate: '*'
		});
		return response.data?.[0] || null;
	}
}
```

### ×‘×“×™×§×” 2: ×•×•×“× ×©-Strapi ×¨×¥
```bash
# ×‘×˜×¨××™× ×œ × ×¤×¨×“:
cd strapi-backend
npm run develop
```

×¦×¨×™×š ×œ×¨××•×ª:
```
[2024-12-04 ...] info âš¡ï¸ Server started on http://localhost:1337
```

### ×‘×“×™×§×” 3: ×‘×“×•×§ ××ª ×”-API Token
```bash
# ×‘×“×•×§ ×©×™×© API token ×‘-.env:
cd new-app
cat .env | grep STRAPI_API_TOKEN
```

×¦×¨×™×š ×œ×¨××•×ª ××©×”×• ×›××•:
```
STRAPI_API_TOKEN=your-token-here
```

## ×× ×›×œ×•× ×œ× ×¢×•×–×¨

× ×¡×” ××ª ×–×”:
1. ×¢×¦×•×¨ ××ª ×©× ×™ ×”×©×¨×ª×™× (Strapi + SvelteKit)
2. × ×§×” cache:
```bash
cd new-app
rm -rf .svelte-kit
rm -rf node_modules/.vite
```
3. ×”×¤×¢×œ ××—×“×©:
```bash
# Terminal 1:
cd strapi-backend
npm run develop

# Terminal 2:
cd new-app
npm run dev
```

---

**×ª××¨×™×š:** 4 ×“×¦××‘×¨ 2025  
**×¡×˜×˜×•×¡:** ğŸ”§ ×‘×ª×™×§×•×Ÿ  
**×”×¢×¨×•×ª:** ×× ×¢×“×™×™×Ÿ ×œ× ×¢×•×‘×“, ×ª×Ÿ ×œ×™ ××ª ×”×œ×•×’×™× ××”×˜×¨××™× ×œ!
