# ğŸ¯ ×ª×™×§×•×Ÿ ×’×œ×¨×™×™×ª ××•×¦×¨×™× - ×”×‘×¢×™×” ×”×××™×ª×™×ª!

## ğŸ” ××” ×”×™×ª×” ×”×‘×¢×™×”?

×”×›×•×ª×¨×ª × ×©××¨×ª âœ… ××‘×œ ×”×ª××•× ×” ×•×”××—×™×¨ ×œ× × ×©××¨×™× âŒ

## ğŸ’¡ ×œ××” ×–×” ×§×¨×”?

### ×”×‘×¢×™×” ×”×××™×ª×™×ª:
1. **×©××™×¨×”** - ×¢×‘×“×”! âœ…
   - ×”××•×¦×¨×™× × ×©××¨×• ×‘-`metadata.sectionOverrides`
   - ×”-API ×©××¨ ×”×›×œ × ×›×•×Ÿ

2. **×˜×¢×™× ×”** - ×œ× ×¢×‘×“×”! âŒ
   - ×”×¤×•× ×§×¦×™×” `extractPageDataFromStrapi` ×œ× ×˜×¢× ×” ××ª ×”-overrides
   - ×”××•×¦×¨×™× × ×©××¨×• ××‘×œ ×œ× × ×˜×¢× ×• ×‘×—×–×¨×”!

### ×œ××” ×”×›×•×ª×¨×ª ×¢×‘×“×”?
×”×›×•×ª×¨×ª ××©×ª××©×ª ×‘-`saveField` ×©×¢×•×‘×“ ××—×¨×ª - ×”×™× × ×©××¨×ª ×™×©×™×¨×•×ª ×‘-`sections.X.data.title` ×•×œ× ×‘-metadata.

### ×œ××” ×”××•×¦×¨×™× ×œ× ×¢×‘×“×•?
×”××•×¦×¨×™× × ×©××¨×• ×‘-`metadata.sectionOverrides[X]["data.products"]` ××‘×œ ×”×¤×•× ×§×¦×™×” ×©×˜×•×¢× ×ª ××ª ×”×“×£ ×œ× ×™×™×©××” ××ª ×”-overrides!

## âœ… ××” ×ª×•×§×Ÿ?

### 1ï¸âƒ£ ×”×•×¡×¤×ª×™ ×˜×¢×™× ×ª overrides:
```javascript
// Get metadata with sectionOverrides
const metadata = attrs.metadata || {};
const sectionOverrides = metadata.sectionOverrides || {};
```

### 2ï¸âƒ£ ×™×™×©×•× overrides ×¢×œ ×›×œ section:
```javascript
sections: sectionsArray.map((s, index) => {
    let sectionData = sAttrs.data || {};
    
    // Apply section overrides from metadata
    if (sectionOverrides[index]) {
        console.log(`ğŸ”„ Applying overrides for section ${index}`);
        sectionData = applyOverrides(sectionData, sectionOverrides[index]);
    }
    
    return {
        ...
        data: sectionData
    };
})
```

### 3ï¸âƒ£ ×¤×•× ×§×¦×™×” ×—×“×©×” `applyOverrides`:
```javascript
function applyOverrides(baseData, overrides) {
    const result = JSON.parse(JSON.stringify(baseData)); // Deep clone
    
    for (const [path, value] of Object.entries(overrides)) {
        // Handle nested paths like "data.products"
        const parts = path.split('.');
        let target = result;
        
        // Navigate and set value
        for (let i = 0; i < parts.length - 1; i++) {
            const key = parts[i];
            if (!target[key]) target[key] = {};
            target = target[key];
        }
        
        target[parts[parts.length - 1]] = value;
    }
    
    return result;
}
```

## ğŸ¯ ××™×š ×–×” ×¢×•×‘×“ ×¢×›×©×™×•?

### ×©××™×¨×” (×œ× ×”×©×ª× ×”):
1. ××©×ª××© ×¢×•×¨×š ×ª××•× ×”/××—×™×¨
2. `saveProductField` ××• `handleImageUpload` × ×§×¨××™×
3. ×©×•×œ×— ×œ-`/api/update-page` ×¢×:
   ```json
   {
     "field": "sections.0.data.products",
     "value": [...products]
   }
   ```
4. ×”-API ×©×•××¨ ×‘-`metadata.sectionOverrides[0]["data.products"]`

### ×˜×¢×™× ×” (×ª×•×§×Ÿ!):
1. ×”×“×£ × ×˜×¢×Ÿ ×-Strapi
2. `extractPageDataFromStrapi` × ×§×¨×
3. **×—×“×©!** ×”×¤×•× ×§×¦×™×” ×˜×•×¢× ×ª ××ª `metadata.sectionOverrides`
4. **×—×“×©!** ××™×™×©××ª ××ª ×”-overrides ×¢×œ ×›×œ section
5. ×”××•×¦×¨×™× ×”××¢×•×“×›× ×™× ××•×—×–×¨×™× ×œ×“×£!

## ğŸ§ª ×‘×“×™×§×”

1. ×”×™×›× ×¡ ×œ×“×£ ×¢× ×’×œ×¨×™×™×ª ××•×¦×¨×™×
2. ×©× ×” ×ª××•× ×” ×©×œ ××•×¦×¨
3. ×©× ×” ××—×™×¨ ×©×œ ××•×¦×¨
4. ×©××•×¨ ××ª ×”×“×£
5. ×¨×¢× ×Ÿ ××ª ×”×“×£ (F5)
6. âœ… ×”×ª××•× ×” ×•×”××—×™×¨ × ×©××¨×™×!

---

## ğŸ‰ ×¡×™×›×•×

×”×‘×¢×™×” ×œ× ×”×™×ª×” ×‘×©××™×¨×” - ×”×‘×¢×™×” ×”×™×ª×” ×‘×˜×¢×™× ×”!
×”××•×¦×¨×™× × ×©××¨×• × ×›×•×Ÿ ××‘×œ ×œ× × ×˜×¢× ×• ×‘×—×–×¨×”.

×¢×›×©×™×• ×”×¤×•× ×§×¦×™×” `extractPageDataFromStrapi` ××™×™×©××ª ××ª ×›×œ ×”-overrides ××”-metadata, ×•×‘×“×™×•×§ ×›××• ×”×›×•×ª×¨×ª - ×’× ×”×ª××•× ×•×ª ×•×”××—×™×¨×™× × ×©××¨×™× ×•× ×˜×¢× ×™× × ×›×•×Ÿ!

**×¢×›×©×™×• ×–×” ×‘×××ª ×¢×•×‘×“! ğŸš€**
