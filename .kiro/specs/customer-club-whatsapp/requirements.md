# דרישות: מועדון לקוחות ושליחה מרובה ב-WhatsApp

## מבוא

מערכת מועדון לקוחות מתקדמת המאפשרת לבעלי חנויות לנהל את בסיס הלקוחות שלהם ולשלוח הודעות WhatsApp המוניות לקידום מכירות, עדכונים והטבות.

## מילון מונחים

- **Customer Club**: מועדון לקוחות - מאגר מרכזי של כל הלקוחות שרכשו מהחנות
- **Bulk Messaging**: שליחה מרובה - שליחת הודעה אחת לקבוצת לקוחות
- **WhatsApp API**: ממשק לשליחת הודעות WhatsApp
- **Customer Segment**: קבוצת לקוחות - סינון לקוחות לפי קריטריונים
- **Message Template**: תבנית הודעה - הודעה מוכנה מראש לשימוש חוזר

## דרישות

### דרישה 1: ניהול מאגר לקוחות

**User Story:** כבעל חנות, אני רוצה לראות רשימה מרוכזת של כל הלקוחות שלי, כדי שאוכל לנהל את בסיס הלקוחות ביעילות.

#### קריטריונים לקבלה

1. WHEN בעל חנות נכנס למועדון לקוחות THEN המערכת SHALL הציג רשימה של כל הלקוחות שרכשו מהחנות
2. WHEN לקוח מבצע רכישה THEN המערכת SHALL הוסיף אותו אוטומטית למועדון הלקוחות
3. WHEN מציגים לקוח THEN המערכת SHALL הציג שם, טלפון, אימייל, כתובת, תאריך רכישה ראשונה, תאריך רכישה אחרונה, סה"כ רכישות וסכום כולל
4. WHEN בעל חנות מחפש לקוח THEN המערכת SHALL אפשר חיפוש לפי שם, טלפון או אימייל
5. WHEN בעל חנות מסנן לקוחות THEN המערכת SHALL אפשר סינון לפי תאריך רכישה, סכום רכישות או מספר רכישות

### דרישה 2: קבוצות לקוחות (Segments)

**User Story:** כבעל חנות, אני רוצה ליצור קבוצות לקוחות לפי קריטריונים שונים, כדי לשלוח הודעות ממוקדות.

#### קריטריונים לקבלה

1. WHEN בעל חנות יוצר קבוצה THEN המערכת SHALL אפשר לו לבחור קריטריונים: כל הלקוחות, לקוחות VIP (מעל X רכישות), לקוחות חדשים (רכישה ראשונה ב-30 ימים אחרונים), לקוחות לא פעילים (ללא רכישה ב-90 ימים)
2. WHEN בעל חנות בוחר קריטריון THEN המערכת SHALL הציג כמה לקוחות עונים לקריטריון
3. WHEN בעל חנות שומר קבוצה THEN המערכת SHALL שמור את הקבוצה לשימוש עתידי
4. WHEN בעל חנות צופה בקבוצה THEN המערכת SHALL הציג רשימת הלקוחות בקבוצה
5. WHEN בעל חנות מוחק קבוצה THEN המערכת SHALL מחוק את הקבוצה אך לא את הלקוחות עצמם

### דרישה 3: שליחת הודעות WhatsApp המוניות

**User Story:** כבעל חנות, אני רוצה לשלוח הודעת WhatsApp לקבוצת לקוחות, כדי לעדכן אותם על מבצעים או חדשות.

#### קריטריונים לקבלה

1. WHEN בעל חנות בוחר קבוצת לקוחות THEN המערכת SHALL הציג כמה לקוחות יקבלו את ההודעה
2. WHEN בעל חנות כותב הודעה THEN המערכת SHALL אפשר לו להוסיף טקסט, אימוג'י וקישורים
3. WHEN בעל חנות שולח הודעה THEN המערכת SHALL פתוח חלון WhatsApp Web עם ההודעה מוכנה לכל לקוח
4. WHEN שולחים הודעה THEN המערכת SHALL אפשר פרסונליזציה עם שם הלקוח (למשל: "שלום {שם}")
5. WHEN שליחה מתבצעת THEN המערכת SHALL הציג התקדמות השליחה (X מתוך Y נשלחו)

### דרישה 4: תבניות הודעות

**User Story:** כבעל חנות, אני רוצה לשמור תבניות הודעות נפוצות, כדי לחסוך זמן בשליחות עתידיות.

#### קריטריונים לקבלה

1. WHEN בעל חנות יוצר תבנית THEN המערכת SHALL אפשר לו לתת שם לתבנית ולשמור את תוכן ההודעה
2. WHEN בעל חנות שולח הודעה THEN המערכת SHALL הציג רשימת תבניות קיימות לבחירה
3. WHEN בעל חנות בוחר תבנית THEN המערכת SHALL מילוי את תוכן ההודעה מהתבנית
4. WHEN בעל חנות עורך תבנית THEN המערכת SHALL שמור את השינויים
5. WHEN בעל חנות מוחק תבנית THEN המערכת SHALL מחוק את התבנית

### דרישה 5: היסטוריית שליחות

**User Story:** כבעל חנות, אני רוצה לראות היסטוריה של הודעות ששלחתי, כדי לעקוב אחר הקמפיינים שלי.

#### קריטריונים לקבלה

1. WHEN בעל חנות צופה בהיסטוריה THEN המערכת SHALL הציג רשימת כל ההודעות ששלח
2. WHEN מציגים הודעה THEN המערכת SHALL הציג תאריך שליחה, תוכן ההודעה, קבוצת היעד וכמות נמענים
3. WHEN בעל חנות לוחץ על הודעה THEN המערכת SHALL הציג פרטים מלאים כולל רשימת הלקוחות שקיבלו
4. WHEN בעל חנות רוצה לשלוח שוב THEN המערכת SHALL אפשר שליחה חוזרת של אותה הודעה
5. WHEN בעל חנות מוחק הודעה מההיסטוריה THEN המערכת SHALL מחוק את הרשומה

### דרישה 6: סטטיסטיקות מועדון לקוחות

**User Story:** כבעל חנות, אני רוצה לראות סטטיסטיקות על מועדון הלקוחות, כדי להבין את התנהגות הלקוחות שלי.

#### קריטריונים לקבלה

1. WHEN בעל חנות צופה בסטטיסטיקות THEN המערכת SHALL הציג סה"כ לקוחות במועדון
2. WHEN מציגים סטטיסטיקות THEN המערכת SHALL הציג לקוחות חדשים החודש
3. WHEN מציגים סטטיסטיקות THEN המערכת SHALL הציג לקוחות VIP (מעל 5 רכישות)
4. WHEN מציגים סטטיסטיקות THEN המערכת SHALL הציג לקוחות לא פעילים (ללא רכישה ב-90 ימים)
5. WHEN מציגים סטטיסטיקות THEN המערכת SHALL הציג ממוצע רכישות ללקוח וממוצע סכום רכישה

### דרישה 7: ייצוא נתוני לקוחות

**User Story:** כבעל חנות, אני רוצה לייצא את רשימת הלקוחות לקובץ, כדי לשמור גיבוי או לשימוש חיצוני.

#### קריטריונים לקבלה

1. WHEN בעל חנות לוחץ על ייצוא THEN המערכת SHALL יצור קובץ CSV עם כל פרטי הלקוחות
2. WHEN מייצאים THEN המערכת SHALL כלול שם, טלפון, אימייל, כתובת, תאריך רכישה ראשונה, תאריך רכישה אחרונה, מספר רכישות וסכום כולל
3. WHEN הקובץ מוכן THEN המערכת SHALL הוריד את הקובץ למחשב המשתמש
4. WHEN מייצאים קבוצה ספציפית THEN המערכת SHALL יצור קובץ רק עם הלקוחות בקבוצה
5. WHEN הייצוא מסתיים THEN המערכת SHALL הציג הודעת הצלחה

### דרישה 8: אינטגרציה עם מערכת ההזמנות

**User Story:** כבעל חנות, אני רוצה שהמערכת תעדכן אוטומטית את מועדון הלקוחות מההזמנות, כדי שלא אצטרך להזין ידנית.

#### קריטריונים לקבלה

1. WHEN לקוח מבצע הזמנה חדשה THEN המערכת SHALL בדוק אם הלקוח קיים במועדון
2. WHEN לקוח לא קיים THEN המערכת SHALL יצור רשומת לקוח חדשה עם פרטיו מההזמנה
3. WHEN לקוח קיים THEN המערכת SHALL עדכן את תאריך הרכישה האחרונה, מספר הרכישות והסכום הכולל
4. WHEN מעדכנים לקוח THEN המערכת SHALL שמור היסטוריית רכישות מלאה
5. WHEN לקוח משנה פרטים בהזמנה THEN המערכת SHALL עדכן את הפרטים במועדון הלקוחות
