const fs = require('fs');

const filePath = 'public/index.html';
let content = fs.readFileSync(filePath, 'utf8');

// ××™×œ×•×Ÿ ×ª×™×§×•× ×™× ××œ× - ××™×¤×•×™ ×’×™×‘×¨×™×© ×œ×¢×‘×¨×™×ª × ×›×•× ×”
const dictionary = {
    // ×›×¤×ª×•×¨×™× ×•×ª×¤×¨×™×˜×™×
    '×³Â¡×³â„¢×³â€º×³â€¢×³ ×³â€”×³Â©×³'×³â€¢×³': '×¡×™×›×•× ×—×©×‘×•×Ÿ',
    '×³â‚ª×³×³ ×³ ×³×³ ×³"×³': '×¤×× ×œ × ×™×”×•×œ',
    '×³"×³Â£ ×³â€”×³"×³Â©': '×“×£ ×—×“×©',
    
    // ×“×©×‘×•×¨×“
    '×³×³Â©×³Ã—×³×³Â©×³â„¢×³ ×³'×³×³Â¢×³Â¨×³â€º×³Ã—': '××©×ª××©×™× ×‘××¢×¨×›×ª',
    '×³"×³â‚ª×³â„¢×³ ×³â‚ª×³Â¢×³â„¢×³×³â„¢×³': '×“×¤×™× ×¤×¢×™×œ×™×',
    '×³"×³â‚ª×³â„¢×³ ×³×³ ×³â‚ª×³Â¢×³â„¢×³×³â„¢×³': '×“×¤×™× ×œ× ×¤×¢×™×œ×™×',
    '×³"×³â€º×³ ×³Â¡×³â€¢×³Ã— ×—×•×“×©×™×³â€¢×³Ã—': '×”×›× ×¡×•×ª ×—×•×“×©×™×•×ª',
    '×³"×³â€º×³ ×³Â¡×³â€¢×³Ã— ×³"×³Â©×³'×³â€¢×³Â¢': '×”×›× ×¡×•×ª ×”×©×‘×•×¢',
    '×³â‚ª×³Â¢×³â„¢×³×³â€¢×³Ã— ×³×³â€”×³Â¨×³â€¢×³ ×³"': '×¤×¢×™×œ×•×ª ××—×¨×•× ×”',
    '×¡×˜×˜×™×¡×˜×™×§×•×ª ×³×³"×³â„¢×³Â¨×³â€¢×³Ã—': '×¡×˜×˜×™×¡×˜×™×§×•×ª ××—×¨×•× ×•×ª',
    '×³×³Â©×³Ã—×³×³Â©×³â„¢×³ ×³â€”×³"×³Â©×³â„¢×³ ×³"×³Â©×³'×³â€¢×³Â¢': '××©×ª××©×™× ×—×“×©×™× ×”×©×‘×•×¢',
    '×³"×³â‚ª×³â„¢×³ ×³Â©×³ ×³â€¢×³Â¦×³Â¨×³â€¢ ×³"×³Â©×³'×³â€¢×³Â¢': '×“×¤×™× ×©× ×•×¦×¨×• ×”×©×‘×•×¢',
    
    // ×˜×¢×™× ×” ×•×”×•×“×¢×•×ª
    '×³Ëœ×³â€¢×³Â¢×³ ×³"×³â‚ª×³â„¢×³': '×˜×•×¢×Ÿ ×“×¤×™×',
    '×³×³â€”×³'×³Â¨': '××—×‘×¨',
    '×³Ëœ×³â€¢×³Â¢×³': '×˜×•×¢×Ÿ',
    '×”×ª×—×‘×¨×³Ã— ×³'×³"×³Â¦×³×³â€”×³"': '×”×ª×—×‘×¨× ×• ×‘×”×¦×œ×—×”',
    
    // ×ª×•×•×™×•×ª ×•×©×“×•×ª
    '×³Â©×³': '×©×',
    '×³×³â„¢×³×³â„¢×³â„¢×³': '××™××™×™×œ',
    '×³Â¡×³â„¢×³Â¡×³×³"': '×¡×™×¡××”',
    '×³×³â€”×³â„¢×³Â¨': '××—×™×¨',
    '×³×³â€“×³â€¢×³Â¨': '××–×•×¨',
    '×³Â¡×³â€¢×³'': '×¡×•×’',
    '×³Â©×³â„¢×³Â¨×³â€¢×³Ã—/×³'×³Â§×³Â©×³"': '×©×™×¨×•×ª/×‘×§×©×”',
    
    // ×“×¤×™×
    '×³"×³Â£ ×³ ×³â€”×³â„¢×³Ã—×³"': '×“×£ × ×—××“',
    '×³"×³Â£ ×³Â©×³â‚ª×³â€¢×³Â¨×³Â¡×³': '×“×£ ×©×¤×•×¨×¡×',
    '×³ ×³â€¢×³Â¦×³Â¨': '× ×•×¦×¨',
    '×³â‚ª×³â€¢×³Â¨×³Â¡×³': '×¤×•×¨×¡×',
    
    // × ×™×”×•×œ
    '×³ ×³â„¢×³"×³â€¢×³ ×³×³Â©×³Ã—×³×³Â©×³â„¢×³': '× ×™×”×•×œ ××©×ª××©×™×',
    '×³"×³â„¢×³Â¡×³Ëœ×³â€¢×³Â¨×³â„¢×³â„¢×³Ã— ×³Ã—×³Â©×³×³â€¢×³×³â„¢×³': '×”×™×¡×˜×•×¨×™×™×ª ×ª×©×œ×•××™×',
    '×³Â¡×³Ëœ×³Ëœ×³â€¢×³Â¡ ×³"×³â‚ª×³â„¢×³': '×¡×˜×˜×•×¡ ×“×¤×™×',
    '×³"×³â€º×³ ×³Â¡×³â€¢×³Ã— ×—×•×“×©×™×³â€¢×³Ã—': '×”×›× ×¡×•×ª ×—×•×“×©×™×•×ª',
    '×³â‚ª×³Â¢×³â„¢×³×³â€¢×³Ã—': '×¤×¢×™×œ×•×ª',
    '×¡×˜×˜×™×¡×˜×™×§×•×ª ×³×³Â©×³Ã—×³×³Â©×³â„¢×³': '×¡×˜×˜×™×¡×˜×™×§×•×ª ××©×ª××©×™×',
    '×”×’×“×¨×•×ª ×³×³Â¢×³Â¨×³â€º×³Ã—': '×”×’×“×¨×•×ª ××¢×¨×›×ª',
    '×³Â©×³ ×³"×³×³Â¢×³Â¨×³â€º×³Ã—': '×©× ×”××¢×¨×›×ª',
    '×³×³â„¢×³×³â„¢×³â„¢×³ ×³×³ ×³"×³': '××™××™×™×œ ×œ×™×¦×™×¨×ª ×§×©×¨',
    '×”×’×“×¨×•×ª ×³×³'×³Ëœ×³â€”×³"': '×”×’×“×¨×•×ª ××ª×§×“××•×ª',
    '×³ ×³â„¢×³Â§×³â€¢×³â„¢ ×³ ×³Ã—×³â€¢×³ ×³â„¢×³': '× ×™×§×•×™ × ×ª×•× ×™×',
    
    // ×›×œ×œ×™×™×
    '×³â€º×³Ã—×³â€¢×³' ×³"×³â€¢×³"×³Â¢×³"': '×›×ª×•×‘ ×”×•×“×¢×”',
    '×³"×³â€º×³ ×³Â¡': '×”×›× ×¡',
    '×³Â©×³â€º×³â€”×³Ã— ×³Â¡×³â„¢×³Â¡×³×³"': '×©×›×—×ª ×¡×™×¡××”',
    '×³×³â€¢': '××•',
    
    // ×¡××œ ×›×¡×£
    '×’â€šÃ—': 'â‚ª',
};

let fixCount = 0;
const fixed = [];

// ×ª×™×§×•×Ÿ ×œ×¤×™ ××™×œ×•×Ÿ
Object.entries(dictionary).forEach(([bad, good]) => {
    const regex = new RegExp(bad.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
    const matches = content.match(regex);
    if (matches) {
        content = content.replace(regex, good);
        fixCount += matches.length;
        fixed.push(`${matches.length}x: ${bad} â†’ ${good}`);
    }
});

if (fixCount > 0) {
    fs.writeFileSync(filePath, content, 'utf8');
    console.log(`\nâœ… ×ª×•×§× ×• ${fixCount} ××•×¤×¢×™×!\n`);
    console.log('×¤×™×¨×•×˜ ×”×ª×™×§×•× ×™×:');
    fixed.forEach(f => console.log(`  ${f}`));
} else {
    console.log('\nâš ï¸ ×œ× × ××¦××• ×“×‘×¨×™× ×œ×ª×§×Ÿ ×‘××™×œ×•×Ÿ');
}

// ×¡×¤×™×¨×ª ×’×™×‘×¨×™×© ×©× ×•×ª×¨
const remaining = (content.match(/×³/g) || []).length;
console.log(`\nğŸ“Š ×ª×•×•×™ ×³ ×©× ×•×ª×¨×•: ${remaining}`);







