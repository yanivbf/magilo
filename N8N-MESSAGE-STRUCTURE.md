# 📨 מבנה המסרים ל-N8N - מדריך מלא

## 🔗 כתובת Webhook

```
https://n8n-service-how4.onrender.com/webhook/jhfuhgufkhlkuho8erhfaadsgdrghre546yrthfg12w23
```

---

## 📤 מה המערכת שלנו שולחת ל-N8N

### Request Structure:

```json
{
  "businessName": "ד״ר דוד כהן - מרפאת שיניים",
  "serviceType": "serviceProvider",
  "description": "מרפאה מודרנית עם ציוד מתקדם, התמחות בטיפולי שורש ושתלים",
  "contentOnly": true
}
```

### פרמטרים:

| שדה | סוג | חובה? | הסבר | דוגמה |
|-----|-----|--------|------|--------|
| `businessName` | string | **כן** | שם העסק המלא | "ד״ר דוד כהן - מרפאת שיניים" |
| `serviceType` | string | **כן** | תמיד: `"serviceProvider"` | "serviceProvider" |
| `description` | string | לא | תיאור נוסף על העסק (אופציונלי) | "מרפאה מודרנית..." |
| `contentOnly` | boolean | **כן** | תמיד: `true` - מסמן שרוצים רק תוכן | true |

---

## 📥 מה N8N צריך להחזיר

### Response Structure (JSON):

```json
{
  "businessName": "ד״ר דוד כהן",
  "heroTitle": "ד״ר דוד כהן - מרפאת שיניים מתקדמת",
  "heroSubtitle": "טיפולי שיניים ברמה הגבוהה ביותר עם ציוד מתקדם",
  "aboutTitle": "אודות המרפאה",
  "aboutText": "ד״ר דוד כהן הוא רופא שיניים מומחה עם ניסיון של 15 שנה בתחום. המרפאה מצוידת בציוד המתקדם ביותר ומציעה מגוון רחב של טיפולי שיניים. אנו מתמחים בטיפולי שורש, שתלים, וכל סוגי הטיפולים השיקומיים. הצוות המקצועי שלנו דואג לכל מטופל באופן אישי ומקפיד על טיפול ללא כאב.",
  "servicesTitle": "השירותים שלנו",
  "services": [
    {
      "name": "טיפול שורש",
      "description": "טיפול שורש מקצועי ללא כאב עם ציוד מתקדם",
      "duration": 60,
      "price": 800
    },
    {
      "name": "שתלי שיניים",
      "description": "שתלי שיניים איכותיים עם אחריות",
      "duration": 90,
      "price": 3500
    },
    {
      "name": "ניקוי אבנית",
      "description": "ניקוי יסודי וליטוש שיניים",
      "duration": 30,
      "price": 250
    },
    {
      "name": "הלבנת שיניים",
      "description": "הלבנה מקצועית עם תוצאות מיידיות",
      "duration": 45,
      "price": 1200
    },
    {
      "name": "כתרים וגשרים",
      "description": "כתרים וגשרים שיקומיים",
      "duration": 120,
      "price": 2500
    }
  ],
  "testimonials": [
    {
      "name": "יוסי כהן",
      "text": "שירות מעולה! הטיפול היה מקצועי וללא כאב. ממליץ בחום על ד״ר כהן!",
      "rating": 5
    },
    {
      "name": "שרה לוי",
      "text": "מרפאה מודרנית ונעימה. הצוות מקצועי ואדיב. סוף סוף מצאתי רופא שיניים שאני לא פוחדת ללכת אליו.",
      "rating": 5
    },
    {
      "name": "דני אברהם",
      "text": "הכי טוב! אחרי שנים של פחד מרופא שיניים, סוף סוף מצאתי מקום שאני לא פוחד ללכת אליו. הטיפול מקצועי והתוצאות מדהימות.",
      "rating": 5
    }
  ],
  "metaDescription": "מרפאת שיניים מתקדמת עם ד״ר דוד כהן. ניסיון של 15 שנה, ציוד מתקדם, טיפולי שורש, שתלים ועוד. קבעו תור עכשיו!",
  "metaKeywords": "רופא שיניים, מרפאת שיניים, שתלים, טיפול שורש, הלבנת שיניים, ניקוי אבנית",
  "workingHours": "א׳-ה׳: 09:00-18:00, ו׳: 09:00-13:00",
  "workingDays": [0, 1, 2, 3, 4],
  "workingHoursData": {
    "start": "09:00",
    "end": "18:00"
  }
}
```

---

## 📋 הסבר מפורט על כל שדה

### 1️⃣ **פרטים בסיסיים**

| שדה | סוג | חובה? | הסבר | דוגמה |
|-----|-----|--------|------|--------|
| `businessName` | string | לא | שם קצר של העסק | "ד״ר דוד כהן" |
| `metaDescription` | string | מומלץ | תיאור קצר לSEO (עד 160 תווים) | "מרפאת שיניים מתקדמת..." |
| `metaKeywords` | string | לא | מילות מפתח מופרדות בפסיקים | "רופא שיניים, שתלים, טיפול שורש" |

### 2️⃣ **Hero Section (החלק העליון)**

| שדה | סוג | חובה? | הסבר | דוגמה |
|-----|-----|--------|------|--------|
| `heroTitle` | string | **כן** | כותרת ראשית גדולה | "ד״ר דוד כהן - מרפאת שיניים מתקדמת" |
| `heroSubtitle` | string | **כן** | כותרת משנית (1-2 משפטים) | "טיפולי שיניים ברמה הגבוהה ביותר" |

**💡 טיפ:** הכותרות צריכות להיות משכנעות ומקצועיות!

### 3️⃣ **About Section (אודות)**

| שדה | סוג | חובה? | הסבר | דוגמה |
|-----|-----|--------|------|--------|
| `aboutTitle` | string | לא | כותרת של מקטע "אודות" | "אודות המרפאה" |
| `aboutText` | string | **כן** | טקסט ארוך 2-4 פסקאות | "ד״ר דוד כהן הוא רופא שיניים מומחה..." |

**💡 טיפ:** הטקסט צריך להיות מפורט, אישי, ולהדגיש יתרונות!

### 4️⃣ **Services (שירותים)** - **הכי חשוב!**

```json
"services": [
  {
    "name": "שם השירות",
    "description": "תיאור קצר (1-2 משפטים)",
    "duration": 60,
    "price": 800
  }
]
```

| שדה | סוג | חובה? | הסבר | דוגמה |
|-----|-----|--------|------|--------|
| `name` | string | **כן** | שם השירות | "טיפול שורש" |
| `description` | string | מומלץ | תיאור קצר של השירות | "טיפול מקצועי ללא כאב" |
| `duration` | number | **כן** | משך הטיפול בדקות | 60 |
| `price` | number | **כן** | מחיר בשקלים | 800 |

**⚠️ חשוב מאוד:**
- לפחות **3-5 שירותים**
- השירותים האלה יופיעו:
  - בדף עצמו
  - בממשק ניהול התורים
  - בטופס קביעת תור
  - בסלקטור בחירת שירות

### 5️⃣ **Testimonials (המלצות)** - **מומלץ מאוד!**

```json
"testimonials": [
  {
    "name": "שם הלקוח",
    "text": "ההמלצה (1-3 משפטים)",
    "rating": 5
  }
]
```

| שדה | סוג | חובה? | הסבר | דוגמה |
|-----|-----|--------|------|--------|
| `name` | string | **כן** | שם הלקוח | "יוסי כהן" |
| `text` | string | **כן** | ההמלצה (1-3 משפטים) | "שירות מעולה! ממליץ בחום." |
| `rating` | number | לא | דירוג 1-5 (ברירת מחדל: 5) | 5 |

**💡 טיפ:** 3-5 המלצות זה אידיאלי. כתוב המלצות אותנטיות ולא גנריות!

### 6️⃣ **Working Hours (שעות פעילות)**

| שדה | סוג | חובה? | הסבר | דוגמה |
|-----|-----|--------|------|--------|
| `workingHours` | string | לא | טקסט חופשי לתצוגה | "א׳-ה׳: 09:00-18:00" |
| `workingDays` | array | לא | מערך של ימים (0=ראשון...6=שבת) | [0,1,2,3,4] |
| `workingHoursData` | object | לא | שעת התחלה וסיום | {"start":"09:00","end":"18:00"} |

---

## 🎯 דוגמאות לפי תחומים

### 🦷 רופא שיניים

```json
{
  "businessName": "ד״ר דוד כהן",
  "heroTitle": "ד״ר דוד כהן - מרפאת שיניים מתקדמת",
  "heroSubtitle": "טיפולי שיניים ברמה הגבוהה ביותר",
  "aboutText": "מרפאה עם ניסיון של 15 שנה...",
  "services": [
    {"name": "טיפול שורש", "duration": 60, "price": 800},
    {"name": "שתלים", "duration": 90, "price": 3500},
    {"name": "ניקוי אבנית", "duration": 30, "price": 250}
  ],
  "testimonials": [
    {"name": "יוסי", "text": "טיפול מעולה!"},
    {"name": "שרה", "text": "מקצועי ואדיב"}
  ]
}
```

### 💇 מספרה

```json
{
  "businessName": "מספרת אלון",
  "heroTitle": "מספרת אלון - עיצוב שיער מקצועי",
  "heroSubtitle": "תספורות מעוצבות ומודרניות לגברים ונשים",
  "aboutText": "מספרה עם ניסיון של 10 שנים...",
  "services": [
    {"name": "תספורת גבר", "duration": 30, "price": 80},
    {"name": "תספורת אישה", "duration": 45, "price": 120},
    {"name": "צבע", "duration": 90, "price": 300},
    {"name": "פן", "duration": 60, "price": 150}
  ],
  "testimonials": [
    {"name": "דני", "text": "התספורת הכי טובה!"},
    {"name": "מיכל", "text": "אלון מקצוען אמיתי"}
  ]
}
```

### 💅 קוסמטיקאית

```json
{
  "businessName": "סטודיו יופי של רחל",
  "heroTitle": "סטודיו יופי של רחל - טיפולי פנים וציפורניים",
  "heroSubtitle": "טיפולים מקצועיים למראה מושלם",
  "aboutText": "סטודיו יופי בוטיק עם התמחות בטיפולי פנים...",
  "services": [
    {"name": "טיפול פנים", "duration": 60, "price": 250},
    {"name": "מניקור", "duration": 45, "price": 100},
    {"name": "פדיקור", "duration": 60, "price": 150},
    {"name": "הסרת שיער", "duration": 30, "price": 80}
  ],
  "testimonials": [
    {"name": "ליאת", "text": "רחל פשוט מדהימה!"},
    {"name": "נועה", "text": "הטיפולים הכי טובים"}
  ]
}
```

---

## ⚡ הנחיות חשובות ל-N8N

### ✅ DO (עשה):
1. **החזר JSON תקין** - בדוק עם JSON validator
2. **כתוב לפחות 3-5 שירותים** - זה הכי חשוב!
3. **כתוב המלצות אותנטיות** - לא גנריות
4. **aboutText צריך להיות מפורט** - 2-4 פסקאות
5. **השתמש ב-GPT לתוכן איכותי**
6. **שמור על עברית תקנית ומקצועית**

### ❌ DON'T (אל תעשה):
1. **אל תחזיר HTML** - רק JSON!
2. **אל תשכח שדות חובה** (heroTitle, aboutText, services)
3. **אל תעשה שירותים גנריים** - התאם לתחום!
4. **אל תכתוב טקסטים קצרים מדי**
5. **אל תשים מחירים לא ריאליים**

---

## 🧪 איך לבדוק

### בדיקה מהירה:
```bash
curl -X POST https://n8n-service-how4.onrender.com/webhook/jhfuhgufkhlkuho8erhfaadsgdrghre546yrthfg12w23 \
  -H "Content-Type: application/json" \
  -d '{
    "businessName": "ד״ר דוד כהן",
    "serviceType": "serviceProvider",
    "description": "מרפאה מודרנית",
    "contentOnly": true
  }'
```

### תשובה מוצלחת צריכה להכיל:
✅ `heroTitle` (string)
✅ `heroSubtitle` (string)
✅ `aboutText` (string, ארוך)
✅ `services` (array עם לפחות 3 פריטים)
✅ `testimonials` (array עם לפחות 2 פריטים)

---

## 📊 Template ל-N8N Workflow

```
1. Webhook Trigger
   ↓
2. Extract Data (businessName, description)
   ↓
3. GPT-4 Prompt:
   "צור תוכן מקצועי לדף נותן שירות עבור {businessName}.
   תחום: {serviceType}
   תיאור: {description}
   
   החזר JSON עם:
   - heroTitle (כותרת משכנעת)
   - heroSubtitle (משפט תיאור)
   - aboutText (2-4 פסקאות מפורטות)
   - services (מערך של 3-5 שירותים עם name, description, duration, price)
   - testimonials (מערך של 3-4 המלצות עם name, text, rating)
   "
   ↓
4. Return JSON Response
```

---

## 🎓 סיכום

**המערכת שלנו שולחת:** שם עסק + תיאור קצר
**N8N מחזיר:** תוכן מלא מקצועי ב-JSON

**הכי חשוב:**
1. ✅ `heroTitle` - כותרת משכנעת
2. ✅ `aboutText` - טקסט ארוך ומפורט
3. ✅ `services` - 3-5 שירותים מפורטים
4. ✅ `testimonials` - 3-4 המלצות אותנטיות

**אחרי ש-N8N מחזיר את התוכן:**
→ המערכת שלנו ממלאת את התבנית הפרמיום
→ מוסיפה עיצוב מדהים
→ מוסיפה גלריה נגללת
→ מוסיפה ממשק ניהול תורים
→ שומרת דף מושלם! 🎉

---

**נוצר בתאריך:** 2024
**Webhook:** `https://n8n-service-how4.onrender.com/webhook/jhfuhgufkhlkuho8erhfaadsgdrghre546yrthfg12w23`

